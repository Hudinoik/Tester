async function attachAutocomplete(inputId,resultsId){const input=document.getElementById(inputId);const results=document.getElementById(resultsId);let t=null;input.addEventListener('input',()=>{clearTimeout(t);const q=input.value.trim();if(!q){results.innerHTML='';results.style.display='none';return;}t=setTimeout(async()=>{try{const r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(q)}&addressdetails=0&limit=5`);const data=await r.json();results.innerHTML=data.map(item=>`<div class='ac-item' data-display='${item.display_name}'>${item.display_name}</div>`).join('');results.style.display=data.length?'block':'none';}catch(e){results.innerHTML='';results.style.display='none';}},350);});results.addEventListener('click',e=>{const el=e.target.closest('.ac-item');if(!el)return;input.value=el.getAttribute('data-display');results.innerHTML='';results.style.display='none';});}